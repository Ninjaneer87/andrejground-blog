---
import { buildNavLinks } from 'src/utils/common';
import HamburgerButton from './HamburgerButton';
import LogoAnimated from './LogoAnimated';
import MainNav from './MainNav';

const pathname = new URL(Astro.request.url).pathname;

const links = buildNavLinks(pathname);
---

<header class="flex gap-4 justify-between p-4 fixed max-sm:bottom-0 sm:top-0 w-full z-20">
  <div
    class="container mx-auto flex justify-between bg-glass rounded-2xl p-4 shadow-3d  min-h-[92px]"
  >
    <a href="/" class="flex items-center">
      <LogoAnimated width={90} client:load />

      <span class="font-light text-lg md:text-xl hidden md:inline">
        <span class="text-foreground">Andrej</span><span class="text-accent"
          >Ground</span
        >
      </span>
    </a>

    <div class="hidden sm:contents">
      <MainNav client:only="react" links={links} transition:persist />
    </div>

    <div class="grid place-items-center sm:hidden">
      <HamburgerButton client:only="react" />
    </div>
  </div>
</header>
